{% if form.errors or formset.errors or form.non_field_errors or formset.non_form_errors %}
   <div class="bg-red-50 border-b border-red-200 py-5 px-5">
      <div class="max-w-4xl space-y-2">
         <!-- Main form field errors -->
         {% for field in form %}
            {% for error in field.errors %}
               <div class="flex items-center">
                  <p class="text-sm text-red-700">{{ field.label }}: {{ error }}</p>
               </div>
            {% endfor %}
         {% endfor %}
         <!-- Formset field errors -->
         {% for formset_form in formset %}
            {% for field in formset_form %}
               {% for error in field.errors %}
                  <div class="flex items-center">
                     <p class="text-sm text-red-700">{{ field.label }}: {{ error }}</p>
                  </div>
               {% endfor %}
            {% endfor %}
         {% endfor %}
         <!-- Main form non-field errors -->
         {% for error in form.non_field_errors %}
            <div class="flex items-center">
               <p class="text-sm text-red-700">{{ error }}</p>
            </div>
         {% endfor %}
         <!-- Formset-wide errors -->
         {% for error in formset.non_form_errors %}
            <div class="flex items-center">
               <p class="text-sm text-red-700">{{ error }}</p>
            </div>
         {% endfor %}
      </div>
   </div>
{% endif %}
